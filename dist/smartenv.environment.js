var classes = require("./smartenv.classes");
var objectStorage = require("./smartenv.objectstorage");
var environment;
var envDetermined = false;
/**
 * returns the environment
 * @returns {Environment}
 */
exports.getEnv = function () {
    if (!envDetermined) {
        environment = new classes.Environment();
        envDetermined = true; // ensure code above only runs once
    }
    ;
    return environment;
};
/**
 * prints the environment to console
 */
exports.printEnv = function () {
    if (this.getEnv().isNode) {
        console.log("running on NODE");
        var smartenvVersion = require("../package.json").version;
        console.log("node version is " + this.getEnv().nodeVersion + " and smartenv version is " + smartenvVersion);
    }
    else {
        console.log("running on BROWSER");
        console.log("browser is " + this.getEnv().userAgent);
    }
    console.log("the smartenv registration store currently holds the following properties:");
    console.log(Object.getOwnPropertyNames(objectStorage.obs.getAll()));
};

//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNtYXJ0ZW52LmVudmlyb25tZW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUtBLElBQU8sT0FBTyxXQUFXLG9CQUFvQixDQUFDLENBQUM7QUFDL0MsSUFBTyxhQUFhLFdBQVcsMEJBQTBCLENBQUMsQ0FBQztBQUczRCxJQUFJLFdBQStCLENBQUM7QUFDcEMsSUFBSSxhQUFhLEdBQVcsS0FBSyxDQUFDO0FBRWxDOzs7R0FHRztBQUNRLGNBQU0sR0FBRztJQUNoQixFQUFFLENBQUMsQ0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFDLENBQUM7UUFDakIsV0FBVyxHQUFHLElBQUksT0FBTyxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBQ3hDLGFBQWEsR0FBRyxJQUFJLENBQUMsQ0FBQyxtQ0FBbUM7SUFDN0QsQ0FBQztJQUFBLENBQUM7SUFDRixNQUFNLENBQUMsV0FBVyxDQUFDO0FBQ3ZCLENBQUMsQ0FBQztBQUVGOztHQUVHO0FBQ1MsZ0JBQVEsR0FBRztJQUNuQixFQUFFLENBQUMsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUN2QixPQUFPLENBQUMsR0FBRyxDQUFDLGlCQUFpQixDQUFDLENBQUM7UUFDL0IsSUFBSSxlQUFlLEdBQUcsT0FBTyxDQUFDLGlCQUFpQixDQUFDLENBQUMsT0FBTyxDQUFDO1FBQ3pELE9BQU8sQ0FBQyxHQUFHLENBQUMsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLFdBQVcsR0FBRywyQkFBMkIsR0FBRyxlQUFlLENBQUMsQ0FBQztJQUNoSCxDQUFDO0lBQUMsSUFBSSxDQUFDLENBQUM7UUFDSixPQUFPLENBQUMsR0FBRyxDQUFDLG9CQUFvQixDQUFDLENBQUM7UUFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxhQUFhLEdBQUcsSUFBSSxDQUFDLE1BQU0sRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ3pELENBQUM7SUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLDJFQUEyRSxDQUFDLENBQUM7SUFDekYsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsbUJBQW1CLENBQUMsYUFBYSxDQUFDLEdBQUcsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxDQUFDLENBQUM7QUFDeEUsQ0FBQyxDQUFDIiwiZmlsZSI6InNtYXJ0ZW52LmVudmlyb25tZW50LmpzIiwic291cmNlc0NvbnRlbnQiOlsiLy8vIDxyZWZlcmVuY2UgcGF0aD1cInR5cGluZ3MvbWFpbi5kLnRzXCIgLz5cbi8qKlxuICogRGVhbHMgd2l0aCB0aGUgZW52aXJvbm1lbnQgdGhlIGN1cnJlbnQgSlMgc2NyaXB0IGlzIHJ1bm5pbmcgaW4uXG4gKi9cbmltcG9ydCBwbHVnaW5zID0gcmVxdWlyZShcIi4vc21hcnRlbnYucGx1Z2luc1wiKTtcbmltcG9ydCBjbGFzc2VzID0gcmVxdWlyZShcIi4vc21hcnRlbnYuY2xhc3Nlc1wiKTtcbmltcG9ydCBvYmplY3RTdG9yYWdlID0gcmVxdWlyZShcIi4vc21hcnRlbnYub2JqZWN0c3RvcmFnZVwiKTtcblxuXG52YXIgZW52aXJvbm1lbnQ6Y2xhc3Nlcy5FbnZpcm9ubWVudDtcbnZhciBlbnZEZXRlcm1pbmVkOmJvb2xlYW4gPSBmYWxzZTtcblxuLyoqXG4gKiByZXR1cm5zIHRoZSBlbnZpcm9ubWVudFxuICogQHJldHVybnMge0Vudmlyb25tZW50fVxuICovXG5leHBvcnQgdmFyIGdldEVudiA9IGZ1bmN0aW9uKCl7XG4gICAgaWYgKCFlbnZEZXRlcm1pbmVkKSB7XG4gICAgICAgIGVudmlyb25tZW50ID0gbmV3IGNsYXNzZXMuRW52aXJvbm1lbnQoKTtcbiAgICAgICAgZW52RGV0ZXJtaW5lZCA9IHRydWU7IC8vIGVuc3VyZSBjb2RlIGFib3ZlIG9ubHkgcnVucyBvbmNlXG4gICAgfTtcbiAgICByZXR1cm4gZW52aXJvbm1lbnQ7XG59O1xuXG4vKipcbiAqIHByaW50cyB0aGUgZW52aXJvbm1lbnQgdG8gY29uc29sZVxuICovXG5leHBvcnQgdmFyICBwcmludEVudiA9IGZ1bmN0aW9uKCkge1xuICAgIGlmICh0aGlzLmdldEVudigpLmlzTm9kZSkge1xuICAgICAgICBjb25zb2xlLmxvZyhcInJ1bm5pbmcgb24gTk9ERVwiKTtcbiAgICAgICAgdmFyIHNtYXJ0ZW52VmVyc2lvbiA9IHJlcXVpcmUoXCIuLi9wYWNrYWdlLmpzb25cIikudmVyc2lvbjtcbiAgICAgICAgY29uc29sZS5sb2coXCJub2RlIHZlcnNpb24gaXMgXCIgKyB0aGlzLmdldEVudigpLm5vZGVWZXJzaW9uICsgXCIgYW5kIHNtYXJ0ZW52IHZlcnNpb24gaXMgXCIgKyBzbWFydGVudlZlcnNpb24pO1xuICAgIH0gZWxzZSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwicnVubmluZyBvbiBCUk9XU0VSXCIpO1xuICAgICAgICBjb25zb2xlLmxvZyhcImJyb3dzZXIgaXMgXCIgKyB0aGlzLmdldEVudigpLnVzZXJBZ2VudCk7XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwidGhlIHNtYXJ0ZW52IHJlZ2lzdHJhdGlvbiBzdG9yZSBjdXJyZW50bHkgaG9sZHMgdGhlIGZvbGxvd2luZyBwcm9wZXJ0aWVzOlwiKTtcbiAgICBjb25zb2xlLmxvZyhPYmplY3QuZ2V0T3duUHJvcGVydHlOYW1lcyhvYmplY3RTdG9yYWdlLm9icy5nZXRBbGwoKSkpO1xufTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
